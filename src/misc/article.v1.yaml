$schema: http://json-schema.org/draft-04/schema#
title: Article
type: object
allOf:
  - $ref: ../snippets/article.v1.yaml
  - properties:
        issue:
            type: integer
            minimum: 1
        copyright:
            allOf:
              - type: object
                properties:
                    statement:
                        type: string
                        minLength: 1
                required:
                  - statement
              - oneOf:
                  - properties:
                        license:
                            type: string
                            enum:
                              - CC0-1.0
                    required:
                      - license
                  - properties:
                        license:
                            type: string
                            enum:
                              - CC-BY-1.0
                              - CC-BY-2.0
                              - CC-BY-2.5
                              - CC-BY-3.0
                              - CC-BY-4.0
                        holder:
                            type: string
                            minLength: 1
                    required:
                      - license
                      - holder
        authors:
            type: array
            items:
                $ref: author.v1.yaml
            minItems: 1
        relatedArticles:
            type: array
            items:
                oneOf:
                  - $ref: ../snippets/article-poa.v1.yaml
                  - $ref: ../snippets/article-vor.v1.yaml
                  - allOf:
                      - properties:
                            type:
                                type: string
                                enum:
                                  - external-article
                      - $ref: ../misc/external-article.v1.yaml
                uniqueItems: true
    required:
      - copyright
      - authors
