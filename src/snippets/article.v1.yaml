$schema: http://json-schema.org/draft-04/schema#
title: Article snippet
type: object
allOf:
  - $ref: article-basics.v1.yaml
  - properties:
        version:
            type: integer
            minimum: 1
        type:
            type: string
            enum:
                - correction
                - editorial
                - feature
                - insight
                - research-advance
                - research-article
                - research-communication
                - retraction
                - registered-report
                - replication-study
                - review-article
                - scientific-correspondence
                - short-report
                - tools-resources
        titlePrefix:
            type: string
            minLength: 1
        stage:
            type: string
            enum:
                - preview
                - published
        published:
            description: |
                Date and time this article was first published.
                Not present if 'stage' is 'preview' and version is '1'.
            $ref: ../misc/date-time.v1.yaml
        versionDate:
            description: |
                Date and time this version of the article was published.
                Only present if 'stage' is 'published'.
            $ref: ../misc/date-time.v1.yaml
        volume:
            type: integer
            minimum: 1
        elocationId:
            type: string
            minLength: 1
        pdf:
            type: string
            format: uri
        researchOrganisms:
            type: array
            items:
                type: string
                minLength: 1
            uniqueItems: true
    required:
      - status
      - version
      - type
      - doi
      - stage
      - volume
      - elocationId
