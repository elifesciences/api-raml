$schema: http://json-schema.org/draft-04/schema#
title: Annotation list
type: object
properties:
    total:
        title: Total number of Annotations
        type: integer
        minimum: 0
    items:
        title: Annotations
        type: array
        items:
            type: object
            properties:
                id:
                    description: Annotation ID
                    type: string
                access:
                    $ref: ../misc/access-level.v1.yaml
                hasParent:
                    description: If the annotation has a parent annotation
                    type: boolean
                    default: false
                highlight:
                    description: Highlighted text
                    type: string
                published:
                    description: Publication date (UTC)
                    $ref: ../misc/date-time.v1.yaml
                updated:
                    title: Updated date (UTC)
                    $ref: ../misc/date-time.v1.yaml
                content:
                    title: Content
                    type: array
                    items:
                        oneOf:
                          - $ref: ../blocks/list.v2.yaml
                          - $ref: ../blocks/mathml.v1.yaml
                          - $ref: ../blocks/paragraph.v1.yaml
                          - $ref: ../blocks/quote.v1.yaml
                          - $ref: ../blocks/youtube.v1.yaml
                item:
                    oneOf:
                      - $ref: ../snippets/article-poa.v1.yaml
                      - $ref: ../snippets/article-vor.v1.yaml
                      - allOf:
                          - type: object
                            required:
                              - type
                          - oneOf:
                              - allOf:
                                  - properties:
                                        type:
                                            type: string
                                            enum:
                                              - blog-article
                                  - $ref: ../snippets/blog-article.v1.yaml
                              - allOf:
                                  - properties:
                                        type:
                                            type: string
                                            enum:
                                              - interview
                                  - $ref: ../snippets/interview.v1.yaml
                              - allOf:
                                  - properties:
                                        type:
                                            type: string
                                            enum:
                                              - labs-post
                                  - $ref: ../snippets/labs-post.v1.yaml
                              - allOf:
                                  - properties:
                                        type:
                                            type: string
                                            enum:
                                              - press-package
                                  - $ref: ../snippets/press-package.v1.yaml
            required:
              - id
              - access
              - hasParent
              - published
              - item
        uniqueItems: true
required:
  - total
  - items
