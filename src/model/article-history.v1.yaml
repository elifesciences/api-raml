$schema: http://json-schema.org/draft-04/schema#
oneOf:
-
    title: Article history
    type: object
    properties:
        received:
            type: string
            format: date
        accepted:
            type: string
            format: date
        versions:
            description: List of article versions, sorted by version in descending order
            type: array
            items:
              - oneOf:
                  - $ref: ../snippets/article-poa.v1.yaml
                  - $ref: ../snippets/article-vor.v1.yaml
            minItems: 1
    dependencies:
        received:
          - accepted
        accepted:
          - received
    required:
        - versions
-
    title: Event
    type: object
    allOf:
      - $ref: ../snippets/event.v1.yaml
      - properties:
            content:
                description: Content
                type: array
                items:
                    $ref: ../misc/blocks-all.v1.yaml
                minItems: 1
        oneOf:
          - required:
              - content
            not:
                required:
                  - uri
          - required:
              - uri
            not:
                required:
                  - content
